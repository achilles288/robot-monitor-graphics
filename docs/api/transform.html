<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Robot Monitor Graphics: Transforming Objects To The Screen</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<script type="text/javascript" src="../pages/api/header.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_header.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Robot Monitor Graphics
   </div>
   <div id="projectbrief">Simple and quick 2D/3D graphics engine for simulation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('transform.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Transforming Objects To The Screen </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section user"><dt></dt><dd>The physical display of our personal computers are acutally only 2D. If we want to render the 3D objects on the screen, we should be able to transform the world coordinates to screen coordinates. When rendering a 3D model, we have the following components, the model, the camera and the projection screen. In terms of matrix transformation, we apply the matricies of model, view and projection which is commonly known as the MVP matrix and is the best way to seperate the transformations cleanly.</dd></dl>
<h1>The Model Matrix</h1>
<dl class="section user"><dt></dt><dd>A 3D model is made from a set of coordinates in its own space. To display this model as part of our 3D world, it also has a translation vector, an orientation and a scale. When applying these 3 transformations, the model space is converted into the world space.</dd></dl>
<div class="image">
<object type="image/svg+xml" data="model_space.svg" style="pointer-events: none;"></object>
</div>
 <p class="formulaDsp">
\[ M = M_{scale} M_{rotate} M_{translate} \]
</p>
<p class="formulaDsp">
\[ M = M_{translate} \times M_{rotate} \times M_{scale} \]
</p>
<p class="formulaDsp">
\[ M = \begin{pmatrix} 1 &amp; 0 &amp; 0 &amp; 14 \\ 0 &amp; 1 &amp; 0 &amp; -9 \\ 0 &amp; 0 &amp; 1 &amp; 6 \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{pmatrix} \begin{pmatrix} 0.59 &amp; -0.81 &amp; -0.04 &amp; 0 \\ 0.68 &amp; 0.52 &amp; -0.51 &amp; 0 \\ 0.43 &amp; 0.28 &amp; 0.86 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{pmatrix} \begin{pmatrix} 1.5 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 1.2 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 2 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{pmatrix} \]
</p>
<p>  
<style>
#MathJax-Span-75 {
  font-size: 14px;
  line-height: 22px;
}
</style>
</p>
<dl class="section user"><dt></dt><dd>By multiplying the local coordinates with the model matrix, the coordinates with respect to the world is obtained. Other models may be seen in this world space. In brief, the model matrix determines the size, orientation and location of the model in the world.</dd></dl>
<div class="image">
<object type="image/svg+xml" data="world_space.svg" style="pointer-events: none;"></object>
</div>
 <h1>The View Matrix</h1>
<blockquote class="doxtable">
<p>The engines donâ€™t move the ship at all. The ship stays where it is and the engines move the universe around it. </p>
</blockquote>
<dl class="section user"><dt></dt><dd>When you think about it, the same applies to cameras. It you want to view a moutain from another angle, you can either move the camera or move the mountain. While not practical in real life, this is really simple and handy in computer graphics.</dd></dl>
<dl class="section user"><dt></dt><dd>To translate the camera by 8 units along X-axis, we translate the world in the reverse coordinates which is the -8 units along X-axis. The same approach is applied in rotations.</dd></dl>
<div class="image">
<object type="image/svg+xml" data="camera_space.svg" style="pointer-events: none;"></object>
</div>
 <dl class="section user"><dt></dt><dd>We have to make one more transformation in the view matrix. In model space and world space, the displacement above the ground is taken as the Z-coordinate. In the camera space, the Z-coordinate is taken as the displacement towards the lens. Why it is taken this way is explained later.</dd></dl>
<h1>The Projection Matrix</h1>
<dl class="section user"><dt></dt><dd>After applying the model transform and camera transform, only one last transformation is needed to be done to reach the screen space. This can be either orthographic or perspective. Perspective projection is usually used in rendering 3D graphics. See the detailed explaination at later pages.</dd></dl>
<h1>Combining All These Together</h1>
<dl class="section user"><dt></dt><dd>Combining all these together, we have the MVP matrix which is used to transform all the verticies of a model resource. This matrix is passed into the vertex shader together with the model resource, computed by the GPU and the model is render on the screen.</dd></dl>
<p class="formulaDsp">
\[ \vec{v}_{screen} = M V P \times \vec{v}_{local} = P \times V \times M \times \vec{v}_{local} \]
</p>
<p><br  />
</p><dl class="section user"><dt></dt><dd>You can read more about the transformations here</dd></dl>
<ul>
<li><a class="el" href="transform_euler_mat.html">Euler And Matrix</a></li>
<li><a class="el" href="transform_projection.html">Projection To The Screen</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
